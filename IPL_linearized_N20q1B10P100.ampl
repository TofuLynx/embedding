
#parameters    
param n, integer, > 0; /* number of assets */    
param B, >= 0;      
param mu{i in 1..n};                          
param sigma{i in 1..n, j in 1..n};    
param q;    
                                              
#variables                                    
var y{i in 1..n, j in 1..n}, binary;    
var x{i in 1..n}, binary;                     
    
#capacity constraint    
s.t. card0: sum{i in 1..n} x[i] = B ;    
#constraints to link x and y                   
s.t. card1{i in 1..n,j in 1..n}: y[i,j] <= x[i] ;    
s.t. card2{i in 1..n,j in 1..n}: y[i,j] <= x[j] ;    
s.t. card3{i in 1..n,j in 1..n}: y[i,j] >= x[i]+x[j]-1 ;    
    
#objective function    
minimize obj: sum{i in 1..n, j in 1..n} y[i,j] * sigma[i,j] * q - sum{i in 1..n} mu[i]*x[i];    

solve;

#data:
data;

param n := 20;
param q := 1;
param B := 10;
param mu :=
1 0.05080475026742121
2 0.04432799177733259
3 0.053801582630435364
4 0.06640854104549193
5 0.035043925642924655
6 0.017249110415775138
7 0.07874182246192317
8 0.04095375803347598
9 0.04134077648662026
10 0.037651805440127833
11 0.055389538474728356
12 0.04307393045454661
13 0.022046240499894832
14 0.06124214505731488
15 0.002883272251791071
16 0.0035269164806780904
17 0.06835798174405171
18 0.03441540652186106
19 0.05575424814563496
20 0.016898369447899603;
param sigma : 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 :=
1 0.003044844233826917 -0.0011143873505907135 0.00244319801744072 0.0018984085557757692 0.003832389735146729 0.0008900116664357824 0.003120890108342633 0.0012143923763254104 0.0029085941422682545 0.001887929706132626 0.0012031078546615379 0.001298636976450135 0.0003283991057329046 0.0027092974273149693 0.0009470392493357567 0.00010644499150698157 -0.0015396001313487005 0.0025369126960840464 0.003583150048608475 -0.00036362633061232726
2 -0.0011143873505907135 0.018551003859362127 -0.0033099492347242626 0.004414636179934294 0.004962988509359947 0.0012276171436695709 -0.0016077154021677906 -0.0011713153083332177 0.002853338692682187 0.004348938832955488 0.004759411319826877 -0.0004603200212464615 0.0022871371946505278 0.004227103231318545 -0.0056984435584166845 -0.0071692250257989745 0.005930591707985097 0.006652186019314359 -0.0016445974197491075 0.0023798474209378037
3 0.00244319801744072 -0.0033099492347242626 0.009781261416119166 0.004350037880632937 0.003311210204176595 -0.0002466992485123137 0.008255749052065657 0.0032380056985953803 0.004859470821149192 0.004855996136186972 0.004299008673082132 0.0018029716836924544 0.0009528207365938571 0.005878533679083783 0.0013418965564774455 0.0007815135391900256 -0.002051441210311624 0.0009229479906627949 0.0017750670413709307 -0.0009358529193576165
4 0.0018984085557757692 0.004414636179934294 0.004350037880632937 0.0100265476987066 0.003618147743545932 -0.00035025916851210635 0.009442285765675932 0.003002801070257031 0.00507941395625453 0.006508937467514212 0.001913084327968426 0.0007170484303761599 -0.0007184452869171718 0.004688030577699787 0.0007201734359240068 -0.002274153841000936 0.0019348148720040505 0.0016645241443693454 -0.001312269956277502 0.0030995026186489507
5 0.003832389735146729 0.004962988509359947 0.003311210204176595 0.003618147743545932 0.008239481670845221 0.001860103829702031 0.0039903716172014665 0.0002513132641737018 0.005632626755970937 0.004364458908122534 0.004814388640561167 0.0014355355976366155 0.0025366808951075375 0.007122017846579392 -0.0011518794623250742 -0.0020730595382712 -0.00067774106775413 0.005926707485089178 0.006048321284703767 -0.00023033881268758895
6 0.0008900116664357824 0.0012276171436695709 -0.0002466992485123137 -0.00035025916851210635 0.001860103829702031 0.0016196069167333696 0.0003658144816290348 7.184500039452721e-05 0.0004921722705503815 9.337523410838382e-05 0.0008837926246543493 7.6826087515754e-05 -0.00013415031141285596 0.0008548194507017061 -0.0009521229314452882 -0.0005536624207044173 -0.0011742597179281928 0.0013524471508471073 0.0020334963666059774 -0.000956608298530256
7 0.003120890108342633 -0.0016077154021677906 0.008255749052065657 0.009442285765675932 0.0039903716172014665 0.0003658144816290348 0.01747758845376959 0.005493318262748567 0.005328807037521274 0.004540230413713981 0.0033175193458416783 0.00046840004809452955 -0.002532175854937292 0.005467020714690643 0.001965448281859694 0.0005466247359495733 -0.0032616071699010556 0.0019881760053785816 0.00066349309840253 0.0015845346634000984
8 0.0012143923763254104 -0.0011713153083332177 0.0032380056985953803 0.003002801070257031 0.0002513132641737018 7.184500039452721e-05 0.005493318262748567 0.004425687567409824 0.0012406856240919288 0.0011041630123875966 0.0008812732983002582 0.000399246436375289 -0.0010638379953144266 0.00012547493187943528 0.0005894965507382959 -7.383582187666487e-05 -0.001446809183314815 0.0011287664424118522 -0.001149593483645852 0.0007376914944482903
9 0.0029085941422682545 0.002853338692682187 0.004859470821149192 0.00507941395625453 0.005632626755970937 0.0004921722705503815 0.005328807037521274 0.0012406856240919288 0.005349966804236603 0.005007451176921506 0.003873823255084123 0.0016731955198728706 0.0015593114709146203 0.006132652177687322 0.0002465658492267311 -0.0012813768070388026 0.00020025942899671748 0.003921439965397675 0.003086992150012681 0.0004331917106270722
10 0.001887929706132626 0.004348938832955488 0.004855996136186972 0.006508937467514212 0.004364458908122534 9.337523410838382e-05 0.004540230413713981 0.0011041630123875966 0.005007451176921506 0.00660460717093369 0.0029904987030111045 0.001495394175849083 0.0008386354482926027 0.005465369327117025 -0.00031432120802428405 -0.0025241057192206344 0.0017741156303108358 0.0020867062483795875 0.00011156867642392914 0.0010633762123990244
11 0.0012031078546615379 0.004759411319826877 0.004299008673082132 0.001913084327968426 0.004814388640561167 0.0008837926246543493 0.0033175193458416783 0.0008812732983002582 0.003873823255084123 0.0029904987030111045 0.006110195624527684 0.0006837951725866904 0.0031696776647833257 0.006034372287011304 -0.0019072318825050475 -0.0013590012467332654 -0.0005722585464393774 0.004751484173746831 0.002767101318546071 -0.00024216927223829417
12 0.001298636976450135 -0.0004603200212464615 0.0018029716836924544 0.0007170484303761599 0.0014355355976366155 7.6826087515754e-05 0.00046840004809452955 0.000399246436375289 0.0016731955198728706 0.001495394175849083 0.0006837951725866904 0.0013198119516203506 7.439984023385613e-05 0.001373241621126934 0.0007491778195475729 -4.455222754748068e-05 0.00010136171668842435 0.0013601913354676094 0.0011628238704708797 -0.0006397373634047752
13 0.0003283991057329046 0.0022871371946505278 0.0009528207365938571 -0.0007184452869171718 0.0025366808951075375 -0.00013415031141285596 -0.002532175854937292 -0.0010638379953144266 0.0015593114709146203 0.0008386354482926027 0.0031696776647833257 7.439984023385613e-05 0.004463948506654535 0.003312159288062091 -0.0010707147917103429 -0.00022146467715052935 0.0007392648126863003 0.001957714782867526 0.002856161206868293 0.0003260257122375755
14 0.0027092974273149693 0.004227103231318545 0.005878533679083783 0.004688030577699787 0.007122017846579392 0.0008548194507017061 0.005467020714690643 0.00012547493187943528 0.006132652177687322 0.005465369327117025 0.006034372287011304 0.001373241621126934 0.003312159288062091 0.008545462916401412 -0.000722089900607386 -0.0013193318592956318 4.5657929829780785e-05 0.004407492401686142 0.004794507899422639 -4.156352314882926e-05
15 0.0009470392493357567 -0.0056984435584166845 0.0013418965564774455 0.0007201734359240068 -0.0011518794623250742 -0.0009521229314452882 0.001965448281859694 0.0005894965507382959 0.0002465658492267311 -0.00031432120802428405 -0.0019072318825050475 0.0007491778195475729 -0.0010707147917103429 -0.000722089900607386 0.0030603673842878056 0.002383814265655452 -0.0006720540109317077 -0.0016467076878358658 0.0006170954680204248 -1.184113029483466e-05
16 0.00010644499150698157 -0.0071692250257989745 0.0007815135391900256 -0.002274153841000936 -0.0020730595382712 -0.0005536624207044173 0.0005466247359495733 -7.383582187666487e-05 -0.0012813768070388026 -0.0025241057192206344 -0.0013590012467332654 -4.455222754748068e-05 -0.00022146467715052935 -0.0013193318592956318 0.002383814265655452 0.003498280306427699 -0.002200376903876659 -0.002297306773810598 0.0013958455360757556 -0.000867300101933561
17 -0.0015396001313487005 0.005930591707985097 -0.002051441210311624 0.0019348148720040505 -0.00067774106775413 -0.0011742597179281928 -0.0032616071699010556 -0.001446809183314815 0.00020025942899671748 0.0017741156303108358 -0.0005722585464393774 0.00010136171668842435 0.0007392648126863003 4.5657929829780785e-05 -0.0006720540109317077 -0.002200376903876659 0.00560660616573414 -0.0004330618122086382 -0.002265290706643539 0.001247447681698152
18 0.0025369126960840464 0.006652186019314359 0.0009229479906627949 0.0016645241443693454 0.005926707485089178 0.0013524471508471073 0.0019881760053785816 0.0011287664424118522 0.003921439965397675 0.0020867062483795875 0.004751484173746831 0.0013601913354676094 0.001957714782867526 0.004407492401686142 -0.0016467076878358658 -0.002297306773810598 -0.0004330618122086382 0.008065649066646625 0.0032563391118742967 0.00037273442354579273
19 0.003583150048608475 -0.0016445974197491075 0.0017750670413709307 -0.001312269956277502 0.006048321284703767 0.0020334963666059774 0.00066349309840253 -0.001149593483645852 0.003086992150012681 0.00011156867642392914 0.002767101318546071 0.0011628238704708797 0.002856161206868293 0.004794507899422639 0.0006170954680204248 0.0013958455360757556 -0.002265290706643539 0.0032563391118742967 0.009427745737544437 -0.0024268166007513563
20 -0.00036362633061232726 0.0023798474209378037 -0.0009358529193576165 0.0030995026186489507 -0.00023033881268758895 -0.000956608298530256 0.0015845346634000984 0.0007376914944482903 0.0004331917106270722 0.0010633762123990244 -0.00024216927223829417 -0.0006397373634047752 0.0003260257122375755 -4.156352314882926e-05 -1.184113029483466e-05 -0.000867300101933561 0.001247447681698152 0.00037273442354579273 -0.0024268166007513563 0.002886272990668378;
end;
